/*******************************************************************************
 * Name: gpio.js
 * Copyright (c) 2014. Brian Harris
 * Wrapper for the GPIO BoneScript module for the BeagleBone Black.
 *******************************************************************************/

var debug = true,
    state = 0;

/**
 * Initializes the specified GPIO pin.
 * @param pin {string}: BeagleBone Black GPIO pin identifier.
 */
exports.setup = function(pin) {
    console.log('Setting up pin ' + pin + ' for digital input.');

    // TODO: Code to setup pin here.
};

/**
 * Polls the specified GPIO pin and returns it's state.
 * @param pin {string}: BeagleBone Black GPIO pin identifier.
 * @returns {boolean}: The state of the pin; true if high, otherwise false.
 */
exports.getState = function(pin) {
    console.log('Getting state of pin ' + pin + '.');
    if (debug) {
        return state === true;
    }

    // TODO: Code to get pin state here
    return false;
};

/**
 * For debugging purposes only, (debug must be true), sets the state of a fictitious pin.
 * @param value {boolean}
 */
exports.debugSetState = function(value) {
    if (debug) {
        if (value === true || value === 1) {
            state = 1;
        }

        state = 0;
    }
};